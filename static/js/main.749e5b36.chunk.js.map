{"version":3,"sources":["components/Square.js","components/FieldRow.js","components/Field.js","components/GameLog.js","Game.js","index.js"],"names":["Square","props","marker","x","y","containsShip","shot","isShipVisible","leftLine","topLine","className","onClick","FieldRow","row","map","square","index","key","Field","fieldMap","whose","GameLog","logs","item","String","Game","state","playerField","enemyField","i","push","j","this","setState","copiedField","copiedLogs","handleClick","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.749e5b36.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function Square(props) {\n    const { x, y, containsShip, shot, isShipVisible } = props;\n\n    const numbers = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];\n    const letters = ['А', 'Б', 'В', 'Г', 'Д', 'Е', 'Ж', 'З', 'И', 'К'];\n\n    const leftLine = (x === 0) ? true : false;\n    const topLine = (y === 0) ? true : false;\n\n    let marker;\n    if (containsShip) {\n        if (shot) {\n            marker = 'X';\n        } else {\n            marker = '';\n        }\n    } else {\n        if (shot) {\n            marker = '·';\n        } else {\n            marker = '';\n        }\n    }\n    return (\n        <button className={`square ${containsShip && isShipVisible ? 'visibleShip' : ''}`} onClick={props.onClick}>\n            <div className=\"marker\">{marker}</div>\n            {leftLine ? <span className=\"leftLine\">{numbers[y]}</span> : ''}\n            {topLine ? <span className=\"topLine\">{letters[x]}</span> : ''}\n        </button>\n    )\n}","import React from 'react';\nimport Square from './Square'\n\nexport default function FieldRow(props) {\n    const { row } = props;\n    return (\n        <div className=\"field-row\">\n            {row.map((square, index) => {\n                return (\n                    <Square \n                    key={index}\n                    x={square.x} \n                    y={square.y} \n                    containsShip={square.containsShip} \n                    shot={square.shot} \n                    isShipVisible={square.isShipVisible} \n                    onClick={() => props.onClick(square.y, square.x)} \n                    />\n                )\n            })}\n        </div>\n        )\n}","import React from 'react';\nimport FieldRow from './FieldRow';\n\nexport default function Field(props) {\n    const { fieldMap } = props;\n    return (\n        <div className={`field ${props.whose ? props.whose : \"\"}`}>\n            {fieldMap.map((row, index) => {\n                return (\n                    <FieldRow \n                    key={index}\n                    row={row} \n                    onClick={(y, x) => props.onClick(y, x)} \n                    />\n                )\n            })}\n        </div>\n    )\n}","import React from 'react';\n\nexport default function GameLog(props) {\n    return (\n        <div className=\"gamelog\">\n            <div className=\"gamelog-header\">Логи игры</div>\n            <ul className=\"gamelog-list\">\n                {props.logs.map((item, index) => {\n                    return (\n                        <li>{`${(index === 0) ? '' : String(index) + '.'} ${item}`}</li>\n                    )\n                })}\n            </ul>\n        </div>\n    )\n}","import React from 'react';\nimport Field from './components/Field';\nimport GameLog from './components/GameLog';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playerField: [],\n      enemyField: [],\n      logs: ['Ожидание хода...'],\n    };\n\n    // первоначальное (пустое) состояние поля\n    for (let i = 0; i < 10; i++) {\n      this.state.enemyField.push([]);\n    }\n\n    for (let i = 0; i < 10; i++) {\n      for (let j = 0; j < 10; j++) {\n        this.state.enemyField[i].push({\n          x: j,\n          y: i,\n          containsShip: false,\n          shot: false,\n          isShipVisible: false,\n        });\n      }\n    }\n\n    // расставляем корабли\n    for (let i = 0; i < 4; i++) {\n      this.state.enemyField[0][i].containsShip = true;\n    }\n\n    for (let i = 0; i < 3; i++) {\n      this.state.enemyField[i+3][6].containsShip = true;\n    }\n    for (let i = 0; i < 3; i++) {\n      this.state.enemyField[i+2][1].containsShip = true;\n    }\n\n    for (let i = 0; i < 2; i++) {\n      this.state.enemyField[9][i].containsShip = true;\n    }\n    for (let i = 0; i < 2; i++) {\n      this.state.enemyField[7][i+3].containsShip = true;\n    }\n    for (let i = 0; i < 2; i++) {\n      this.state.enemyField[9][i+6].containsShip = true;\n    }\n\n    this.state.enemyField[4][3].containsShip = true;\n    this.state.enemyField[2][9].containsShip = true;\n    this.state.enemyField[5][9].containsShip = true;\n    this.state.enemyField[9][9].containsShip = true;\n  }\n\n  handleClick(y, x) {\n    if (this.state.enemyField[y][x].shot) {\n      return;\n    }\n\n    this.setState((state) => {\n      const copiedField = [...state.enemyField];\n      copiedField[y][x].shot = true;\n      copiedField[y][x].isShipVisible = true;\n\n      const copiedLogs = [...state.logs];\n      copiedLogs.push(`${this.state.enemyField[y][x].containsShip ? 'Попадание!' : 'Мимо!'}`);\n\n      return {\n        enemyField: copiedField,\n        logs: copiedLogs,\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"game\">\n        {/* <Field whose=\"player\" fieldMap={this.state.playerField} /> */}\n        <Field \n        whose=\"enemy\" \n        fieldMap={this.state.enemyField} \n        onClick={(y, x) => this.handleClick(y, x)}\n        />\n        <GameLog logs={this.state.logs} />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Game from './Game';\n\nReactDOM.render(<Game />, document.getElementById('root'));\n"],"sourceRoot":""}